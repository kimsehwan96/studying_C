# 다차원 배열과 포인터 배열
- 1차원 배열을 넘어 다양한 차원의 배열을 표현하는 방법을 알아본다
- 포인터를 이용해 2차원 배열을 다루는 방법을 배운다.

## 2차원 배열의 필요성
- 행렬 데이터를 표현할 때, 그래프 알고리즘을 처리할때, 실생활 데이터를 처리할 때 필요하다.

## 2차원 배열의 초기화
1. 2차원 배열은 1차원 배열이 중첩되었다는 의미로 대괄호를 두번 연속으로 사용함

```c
int a[10][10] = { {값, 값, 값}, {값, 값, 값}};
```
- 2차원 배열은 2중 FOR문과 함께 많이 사용됩니다.

```c
#include <stdio.h>

int a[3][3] = { {1,2,3}, {4, 5, 6}, {7, 8, 9} };
/*
1 2 3 < a[0][i]
4 5 6 < a[1][i]
7 8 9 < a[2][i]
*/

int main(void){
    int i, j;
    for (i=0; i<3; i++){
        for (j=0; j<3; j++){
            printf("%d", a[i][j]);
        }
        printf("\n");
    }
    return 0;
}
```


## 다차원 배열
- 2차원 배열 이상의 다차원 배열 또한 사용 할 수 있다.
- 컴퓨터는 기본적으로 2차원 형태만 출력 할 수 있다.



## 포인터 배열의 구조 분석
- 배열은 포인터와 동일한 방식으로 동작한다.
- 배열의 이름은 배열의 원소의 첫번째 원소의 첫 번째 주소가 된다.
- 유일한 차이는 포인터는 변수고, 배열의 이름은 상수라는거?


### 자주하는 오류

```c
#include <stdio.h>

int main(void){
    int a = 10;
    int b[10];
    b = &a;
    //b 즉 배열 이름은 상수이기 때문에 변경 할 수 없다.
    return 0;
}
```

### 포인터를 배열처럼?

```c
#include <stdio.h>

int main(void){
    int a[5] = { 1, 2, 3, 4, 5};
    int *b = a;
    // int *b = &a[0]; 과 동일.
    // 정수형 포인터 변수 b를 선언했다.
    // a는 배열의 첫번째값이 담긴 '주소'를 의미한다.
    // 위처럼 사용하면 b[5]라는 배열을 쓰는것과 동일
    printf("%d\n", b[2]);
    return 0;
}
```

- 포인터는 연산을 통해 자료형의 크기만큼 이동한다.
- 따라서 정수(int)형 포인터는 4바이트씩 만큼 이동한다.

```c
#include <stdio.h>

int main(void){
    int a[5] = { 1, 2, 3, 4, 5};
    int i;
    for (i = 0; i < 5; i++){
        printf("%p\n", a + i);
        printf("%d\n", *(a + i));
    }
    return 0;
}
```

```console
0x7ffee7f944b0
1
0x7ffee7f944b4
2
0x7ffee7f944b8
3
0x7ffee7f944bc
4
0x7ffee7f944c0
5
```

- 위 결과가 나타내는 것은....
- a라는 배열의 첫번쨰 원소의 주소를 담은 포인터 변수에 1을 더한다는건 -> int 형 자료의 크기(4bytes)만큼 주소가 늘어난다는거
- `*(a+i)` 해보니까 실제로 배열에 담긴 값들을 참조 할 수 있었지?
- `*(a+i)` 는 `a[i]`와 완전히 동일했다.


### 구조 분 석 !!!

```c
#include <stdio.h>

int main(void){
    int a[5] = { 1, 2, 3, 4, 5};
    int *p = a;
    printf("%d\n", *(p++)); 
    //1 -> 참조 후 포인터의 주소값 증가 (즉 &a[0], a 의 주소에 값을 참조 후 주소값 증가)
    printf("%d\n", *(++p)); 
    //3 -> &a[1]을 가르키는 포인터의 상태에서, ++로 먼저 포인터 주소값 증가 시킨 후 값을 참조 즉 a[2] 참조
    printf("%d\n", *(p+2)); 
    //5  -> &a[2]를 가르키는 포인터 주소값에서 2증가시켰으니 &a[5] 주소에 들어있는 값 참조
}
```

### 정리

- 포인터 배열이라는건, 해당 자료형 배열의 첫번째 원소가 가지는 주소를 갖게되면 되는거다.
- 예를들어
```c
int a[10] = {1,2,3,4,5,6,7,8,9,10};
int *p = a;//정수형 포인터 변수 p선언. p 변수에는 주소값이 들어가야 함
// p = &a[0]과 동일함
printf("%d\n", *(++p)); // 출력값 : 2
//p 포인터 베열의 주소를 먼저 증가 시킨후 값을 참조하는데
//이는 포인터의 자료형인 int에 해당하는 4bytes만큼 주소값이 증가하는거
// 예를들어 0x5000 번지에 &a[0]이 저장되어있었고, p에 넣었는데
// ++p를 한다는건 p에 들어가는 주소가 0x5004가 된다는 의미다.

```


### 2차원 배열 또한 포인터로 처리 가능하다.

```c
#include <stdio.h>

int main(void){
    int a[2][5] = { {1,2,3,4,5}, {6,7,8,9,10} };
    //a[0]과, a[1]의 두 행으로 나뉘는 배열
    // 포인터 변수를 배열로써 선언.
    int (*p)[5] = a; //포인터 변수에 괄호를 넣어주면 배열을 가르키는 배열 포인터.
    //즉 주소를 담고 있는 p 변수가 p[0]
    int i;
    for(i = 0; i<5; i++){
        printf("%d ", p[0][i]);
    }
}
```