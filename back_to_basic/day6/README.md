# C언어 변수

- 프로그램 메모리 주소
    - 프로그램에 실행되기 위해서는 프로그램이 메모리에 적재된다.
    - 운영체제는 메모리를 크게 네 영역으로 구분한다
        - 코드 영역
            - 소스 코드
        - 데이터 영역
            - 전역 변수
            - 정적 변수
        - 스택 영역
            - 지역 변수
            - 매개 변수
        - 힙 영역
            - 동적 할당 변수

# 전역 변수
- 프로그램의 어디에서든 접근 가능한 변수
- main 함수가 실행 되기도 전에 프로그램의 시작과 동시에 할당된다.
- 프로그램의 크기가 커질수록 전역 변수로 인해 프로그램이 복잡해질 수 있다.
- 메모리의 Data 영역에 적재된다.

```c
#include <stdio.h>

int a = 5;

void changeVal() {
    a = 10;
}


int main (void){
    printf("%d\n", a);
    changeVal();
    printf("%d\n", a);
    return 0;
}
```

# 지역 변수
- 해당 블록내에서만 존재하는 변수
- 함수가 실행 될 때 마다 메모리에 할당 되며 종료되면 메모리에서 제거됨
- 메모리의 스택 영역에 저장 됨


```c
#include <stdio.h>

int main(void) {
    int a = 5;
    if (1) {
        int a = 7;
    }
    printf("%d\n", a);
    return 0;
}
```
# 정적 변수
- 정적 변수란 특정한 블록에서만 접근 할 수 있는 변수를 의미한다.
- 프로그램이 실행될 때 메모리에 할당되며 종료시 메모리에서 제거된다.
- 메모리의 데이터 영역에 저장된다.

# 레지스터 변수
- 레지스터 변수란 메인 메모리 대신에 CPU의 레지스터를 사용하는 변수
- 레지스터는 매우 한정적이기 때문에 실제로 레지스터에서 처리될지는 장담 할 수 없다.

```c
#include <stdio.h>

int main(void){
    register int a = 10, i;
    for (i=0; i < a; i++){
        printf("%d\n", a);
    }
    return 0;
}
```

# 함수의 매개변수가 처리될 때
- 함수를 호출할 때 함수에 필요한 데이터를 매개변수로 전달합니다.
- 전달 방식은 1. 값에 의한 전달, 2. 참조에 의한 전달 두가지 방식이 있습니다.
- 값에 의한 전달 방식은 단지 값을 전달하므로 함수 내에서 변수가 새롭게 생성된다.
- 참조에 의한 전달 방식은 주소를 전달하므로 원래의 변수 자체에 접근 할 수 있다.

## 값에 의한 전달

```c
// 값에 의한 전달 방식 테스트
#include <stdio.h>

//값에 의한 전달 방식이므로..
void add(int a, int b){
    a = a + b;
    //새롭게 두 변수가 메모리 내에 할당되어서 처리되고
    //a는 새로운 변수라고 생각하면 됨 (메모리가 새로 할당)
    //여기서 a를 출력하면 17이 출력되었을 것.
}

int main(void){
    int a = 7;
    add(a, 10);
    // 기존 a에는 영향을 주지 못하고, 함수 블럭 내에서만 적용되고
    // 기존 main문의 a라는 변수는 그대로다.
    printf("%d\n", a);
    return 0;
}
```


## 참조에 의한 전달 방식

```c
#include <stdio.h>

//인자로 정수형 포인터 변수를 받는다.
//즉 주소를 담고있는 놈을 매개변수로 받아야 한다.
void add(int *a){
    *a = (*a) + 10;
    //포인터 변수의 주소에 들어있는 값은 *a로 역참조가 가능한디
    // *a의 값에다가. *a의 값 + 10 을 한거다.
    // 즉 a의 주소에 담겨있는 값에 변형을 준거라 전달 가능.
}

int main(){
    int a = 7;
    add(&a);
    printf("%d\n", a);
    return 0;
}
```

